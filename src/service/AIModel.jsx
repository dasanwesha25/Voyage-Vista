import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate Travel Plane for Location: Las Vegas, for 3 Days for Couple with a Cheap budget. Give me  some Hotels option list with Hotel Name, Hotel Address, Price, Hotel Image Url, Geo Coordinates, Rating, Description and suggest itinerary with place Name, Place Details, Place Image Url, Geo Coordinated, Tickets Pricing, Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"location\": \"Las Vegas\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"budget\": \"Cheap\",\n  \"hotels\": [\n    {\n      \"name\": \"The D Las Vegas\",\n      \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50 - $100 per night\",\n      \"image_url\": \"https://www.theD.com/images/hotel/the-d-hotel-las-vegas.jpg\",\n      \"geo_coordinates\": \"36.1699, -115.1423\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A downtown hotel with a retro vibe, offering affordable rooms, a casino, and a lively atmosphere.\"\n    },\n    {\n      \"name\": \"Golden Nugget Las Vegas\",\n      \"address\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$70 - $150 per night\",\n      \"image_url\": \"https://www.goldennugget.com/las-vegas/media/images/hotel-rooms/golden-nugget-las-vegas-hotel-rooms.jpg\",\n      \"geo_coordinates\": \"36.1682, -115.1421\",\n      \"rating\": \"4 stars\",\n      \"description\": \"A historic hotel known for its luxurious amenities, including a shark tank aquarium, a casino, and various dining options.\"\n    },\n    {\n      \"name\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"image_url\": \"https://www.circuscircus.com/media/images/hotel-rooms/circus-circus-hotel-rooms.jpg\",\n      \"geo_coordinates\": \"36.1195, -115.1726\",\n      \"rating\": \"3 stars\",\n      \"description\": \"A family-friendly hotel with a circus theme, offering affordable rooms, a casino, and amusement rides.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": \"Day 1\",\n      \"theme\": \"Downtown & Fremont Street\",\n      \"schedule\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"place\": \"Fremont Street Experience\",\n          \"details\": \"Walk down the pedestrianized Fremont Street, enjoy the free live music, and experience the iconic light show.\",\n          \"image_url\": \"https://www.visitlasvegas.com/media/images/freemont-street-experience-las-vegas.jpg\",\n          \"geo_coordinates\": \"36.1680, -115.1418\",\n          \"tickets\": \"Free\",\n          \"travel_time\": \"30 minutes\"\n        },\n        {\n          \"time\": \"12:00 PM\",\n          \"place\": \"The D Las Vegas\",\n          \"details\": \"Grab lunch at one of the affordable restaurants and explore the casino.\",\n          \"image_url\": \"https://www.theD.com/images/hotel/the-d-hotel-las-vegas.jpg\",\n          \"geo_coordinates\": \"36.1699, -115.1423\",\n          \"tickets\": \"N/A\",\n          \"travel_time\": \"5 minutes\"\n        },\n        {\n          \"time\": \"2:00 PM\",\n          \"place\": \"Neon Museum\",\n          \"details\": \"Visit this unique museum showcasing iconic Las Vegas neon signs.\",\n          \"image_url\": \"https://www.neonmuseum.org/wp-content/uploads/2018/06/Neon-Museum-Entrance-Sign-Web.jpg\",\n          \"geo_coordinates\": \"36.1772, -115.1506\",\n          \"tickets\": \"$20 per person\",\n          \"travel_time\": \"15 minutes\"\n        },\n        {\n          \"time\": \"4:00 PM\",\n          \"place\": \"Golden Nugget Las Vegas\",\n          \"details\": \"Explore the Golden Nugget's luxurious casino and see the famous shark tank aquarium.\",\n          \"image_url\": \"https://www.goldennugget.com/las-vegas/media/images/hotel-rooms/golden-nugget-las-vegas-hotel-rooms.jpg\",\n          \"geo_coordinates\": \"36.1682, -115.1421\",\n          \"tickets\": \"N/A\",\n          \"travel_time\": \"5 minutes\"\n        },\n        {\n          \"time\": \"6:00 PM\",\n          \"place\": \"Binion's Gambling Hall\",\n          \"details\": \"Enjoy a casual dinner at the Binion's cafe and watch the free poker tournament.\",\n          \"image_url\": \"https://www.binions.com/media/images/casino/binions-gambling-hall.jpg\",\n          \"geo_coordinates\": \"36.1697, -115.1413\",\n          \"tickets\": \"N/A\",\n          \"travel_time\": \"5 minutes\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"theme\": \"The Strip & Free Attractions\",\n      \"schedule\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"place\": \"Bellagio Fountains\",\n          \"details\": \"Watch the spectacular free water show synchronized with music at the Bellagio Hotel.\",\n          \"image_url\": \"https://www.bellagio.com/media/images/fountains/bellagio-fountains-las-vegas.jpg\",\n          \"geo_coordinates\": \"36.1180, -115.1737\",\n          \"tickets\": \"Free\",\n          \"travel_time\": \"15 minutes\"\n        },\n        {\n          \"time\": \"11:00 AM\",\n          \"place\": \"The Mirage Volcano\",\n          \"details\": \"Enjoy another free show at the Mirage Hotel with fire and music.\",\n          \"image_url\": \"https://www.mirage.com/media/images/volcano/the-mirage-volcano-las-vegas.jpg\",\n          \"geo_coordinates\": \"36.1222, -115.1749\",\n          \"tickets\": \"Free\",\n          \"travel_time\": \"5 minutes\"\n        },\n        {\n          \"time\": \"12:00 PM\",\n          \"place\": \"Caesars Palace\",\n          \"details\": \"Walk around Caesars Palace, explore the shops, and enjoy the Roman-themed architecture.\",\n          \"image_url\": \"https://www.caesars.com/media/images/hotel/caesars-palace-hotel-las-vegas.jpg\",\n          \"geo_coordinates\": \"36.1194, -115.1715\",\n          \"tickets\": \"N/A\",\n          \"travel_time\": \"5 minutes\"\n        },\n        {\n          \"time\": \"2:00 PM\",\n          \"place\": \"The LINQ Promenade\",\n          \"details\": \"Enjoy lunch at a food court, browse the shops, and ride the High Roller observation wheel.\",\n          \"image_url\": \"https://www.thelinq.com/media/images/promenade/the-linq-promenade-las-vegas.jpg\",\n          \"geo_coordinates\": \"36.1246, -115.1754\",\n          \"tickets\": \"High Roller: $25 per person\",\n          \"travel_time\": \"10 minutes\"\n        },\n        {\n          \"time\": \"4:00 PM\",\n          \"place\": \"Paris Las Vegas\",\n          \"details\": \"See the Eiffel Tower replica, walk around the Parisian-themed shops, and grab a coffee.\",\n          \"image_url\": \"https://www.parislasvegas.com/media/images/hotel/paris-las-vegas-hotel-rooms.jpg\",\n          \"geo_coordinates\": \"36.1216, -115.1706\",\n          \"tickets\": \"N/A\",\n          \"travel_time\": \"5 minutes\"\n        },\n        {\n          \"time\": \"6:00 PM\",\n          \"place\": \"Circus Circus Hotel & Casino\",\n          \"details\": \"Have dinner at one of the affordable restaurants in Circus Circus.\",\n          \"image_url\": \"https://www.circuscircus.com/media/images/hotel-rooms/circus-circus-hotel-rooms.jpg\",\n          \"geo_coordinates\": \"36.1195, -115.1726\",\n          \"tickets\": \"N/A\",\n          \"travel_time\": \"10 minutes\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 3\",\n      \"theme\": \"Nature & Entertainment\",\n      \"schedule\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"place\": \"Red Rock Canyon National Conservation Area\",\n          \"details\": \"Enjoy scenic views and hiking trails in this beautiful desert landscape.\",\n          \"image_url\": \"https://www.nps.gov/redr/learn/photosmultimedia/images/Red_Rock_Canyon_-_DSC_0390.jpg\",\n          \"geo_coordinates\": \"36.1699, -115.1423\",\n          \"tickets\": \"Entry fee: $15 per vehicle\",\n          \"travel_time\": \"45 minutes\"\n        },\n        {\n          \"time\": \"1:00 PM\",\n          \"place\": \"The Mob Museum\",\n          \"details\": \"Learn about the history of organized crime in Las Vegas.\",\n          \"image_url\": \"https://www.themobmuseum.org/media/images/museum/the-mob-museum-las-vegas.jpg\",\n          \"geo_coordinates\": \"36.1677, -115.1477\",\n          \"tickets\": \"$25 per person\",\n          \"travel_time\": \"30 minutes\"\n        },\n        {\n          \"time\": \"3:00 PM\",\n          \"place\": \"Downtown Container Park\",\n          \"details\": \"Explore this unique outdoor shopping and dining area featuring repurposed shipping containers.\",\n          \"image_url\": \"https://www.downtowncontainerpark.com/media/images/container-park/downtown-container-park-las-vegas.jpg\",\n          \"geo_coordinates\": \"36.1680, -115.1418\",\n          \"tickets\": \"N/A\",\n          \"travel_time\": \"10 minutes\"\n        },\n        {\n          \"time\": \"5:00 PM\",\n          \"place\": \"Las Vegas Strip\",\n          \"details\": \"Take a final stroll along the Strip, watch the street performers, and enjoy the vibrant atmosphere.\",\n          \"image_url\": \"https://www.visitlasvegas.com/media/images/las-vegas-strip-night.jpg\",\n          \"geo_coordinates\": \"36.1146, -115.1724\",\n          \"tickets\": \"N/A\",\n          \"travel_time\": \"15 minutes\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation:**\n\n- **Location:** The overall destination (Las Vegas).\n- **Duration:** The length of the trip (3 days).\n- **Travelers:** The number of people traveling (Couple).\n- **Budget:** The budget range (\"Cheap\").\n- **Hotels:** A list of hotel options with details like name, address, price range, image URL, geo coordinates, rating, and a short description.\n- **Itinerary:** A detailed plan for each day, including:\n    - **Day:** The specific day of the trip.\n    - **Theme:** A brief overview of the day's focus.\n    - **Schedule:** A list of activities with:\n        - **Time:** The suggested time for each activity.\n        - **Place:** The name of the place to visit.\n        - **Details:** A brief description of the place and what to do there.\n        - **Image URL:** A link to an image of the place.\n        - **Geo coordinates:** Coordinates for finding the location on a map.\n        - **Tickets:** Pricing information for any entrance fees.\n        - **Travel time:** Estimated time to travel between locations. \n\nThis JSON format provides a structured and comprehensive travel plan for a budget-conscious couple visiting Las Vegas. \n" },
            ],
        },
    ],
});